# Проектная (учебная) практика

## Участники

| ФИО                         | Учебная группа | Код направления подготовки | Профиль образовательной программы                          |
|----------------------------|----------------|-----------------------------|-------------------------------------------------------------|
| Калашян Хэнк Араевич       | 241-337        | 09.03.02                    | Креативные Инд. (Информационные системы и технологии)       |
| Хуторная Виктория Алексеевна | 241-336        | 09.03.02                    | Креативные Инд. (Информационные системы и технологии)       |

---

## Вариативная часть задания

Разработка телеграм-бота на Python

В рамках вариативной части проектной работы планируется реализовать многофункционального телеграм-бота на языке программирования Python с использованием библиотеки python-telegram-bot. Бот будет включать следующие функции:
1. Подбрасывание виртуальной монетки (/flip)
2. Система ставок на исход подбрасывания монеты
3. Отслеживание баланса виртуальных баллов пользователей (/balance)
4. Выигрыш или проигрыш баллов в зависимости от правильности прогноза
5. Автоматическое добавление новых пользователей в базу данных
6. Восстановление баланса, если он опустился до нуля

Проект будет реализован с соблюдением принципов модульного программирования:
- Отдельный модуль для работы с Telegram API
- Модуль обработки пользовательских команд
- Модуль хранения данных пользователей

Цели проекта:
1. Освоить работу с Telegram Bot API
2. Изучить библиотеку python-telegram-bot для создания ботов
3. Получить опыт интеграции с внешними API
5. Организовать хранение данных пользователей

База данных:
- В текущей версии используется простая in-memory база данных (класс UserDatabase в файле db.py)
- Данные хранятся в памяти в формате словаря Python: {user_id: {"balance": int}}

Используемые технологии:
- Язык программирования Python 3.13
- PyTelegramBotAPI (telebot) - для создания и управления ботом
- python-dotenv - для загрузки конфигурации из файла .env
- logging - для логирования действий и ошибок бота

Функционал:

Команды бота
- /start - Инициализация бота, добавление пользователя в базу данных, отображение приветственного сообщения и инструкций
- /help - Отображение справочной информации о боте и правилах игры
- /balance - Проверка текущего баланса пользователя
- /flip - Запуск игры: подбрасывание монетки и возможность сделать ставку

Система ставок
 - При вызове команды /flip пользователю предлагается выбрать сторону монеты (Орёл или Решка)
 - Затем предлагается выбор суммы ставки (10, 50, 100, 500, 1000 баллов) в соответствии с балансом
 - Монета подбрасывается (случайный выбор стороны)
 - При правильном прогнозе игрок получает +100% от ставки
 - При неверном прогнозе игрок теряет всю ставку

Управление данными пользователей
 - Автоматическая инициализация нового пользователя с балансом 1000 баллов
 - Обновление баланса после каждой игры
 - Восстановление баланса до начального (1000 баллов) при его исчерпании

Логирование
- Настроено базовое логирование (уровень INFO)
- Логируются основные события (запуск бота, ошибки)
- Форматирование логов включает время, имя модуля, уровень важности и сообщение

Другие особенности
- Интерактивные кнопки для взаимодействия с ботом (InlineKeyboardMarkup)
- Стилизованные сообщения с эмодзи и форматированием Markdown
- Проверки на достаточность баланса перед размещением ставки
- Обработка неизвестных команд и сообщений
- Автоматическая загрузка переменных окружения из файла .env

---

## Ответственный по проектной (учебной) практике

*Рябчикова Анна Валерьевна, ИиИТ.*

---

## Проектная деятельность

Проектная (учебная) практика проводилась в связке с выполнением проекта  
«Автоматизация внутренних бизнес-процессов университета»  
по дисциплине «Проектная деятельность».

Куратор по проектной деятельности: Чернова Вера Михайловна.

---

## Период проведения

С 03 февраля 2025 г. по 24 мая 2025 г.

---

## Дополнительные материалы

Для реализации проекта будут использоваться следующие обучающие материалы:
1. Официальная документация python-telegram-bot: https://python-telegram-bot.org/
2. Руководство по созданию Telegram ботов: https://core.telegram.org/bots
3. Примеры интеграции с внешними API
4. Материалы по работе с базами данных в Python

Результатом работы станет полностью функциональный телеграм-бот, размещенный на облачном сервере, с возможностью дальнейшего расширения функционала.